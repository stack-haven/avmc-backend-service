# 测试目录 (tests)

## 目录结构
```
tests/
├── unit/                  # 单元测试
│   ├── service/           # 服务层测试
│   ├── biz/              # 业务层测试
│   └── data/             # 数据层测试
├── integration/           # 集成测试
│   ├── api/              # API测试
│   └── database/         # 数据库测试
├── performance/           # 性能测试
│   ├── benchmark/        # 基准测试
│   └── load/             # 负载测试
└── mock/                 # 测试模拟数据
    ├── service/          # 服务模拟
    └── data/             # 数据模拟
```

## 测试规范
1. 单元测试
   - 覆盖核心业务逻辑
   - 使用表格驱动测试
   - 保持测试代码简洁

2. 集成测试
   - 测试服务间交互
   - 测试外部依赖
   - 使用测试容器

3. 性能测试
   - 设定性能基准
   - 压力测试场景
   - 监控资源使用

4. Mock数据
   - 模拟外部服务
   - 提供测试数据集
   - 保持数据一致性

## 测试工具
1. 测试框架
   - Go testing
   - testify
   - gomock

2. 性能工具
   - go-wrk
   - hey
   - pprof

3. 覆盖率工具
   - go test -cover
   - codecov

## 最佳实践
1. 测试编写
   - 遵循 AAA 模式
   - 避免测试间依赖
   - 合理使用测试辅助函数

2. 持续集成
   - 自动化测试
   - 测试报告生成
   - 覆盖率检查

3. 测试维护
   - 定期更新测试用例
   - 清理过时测试
   - 优化测试性能